{% extends 'base.html' %}


{% block content %}

<h1 class="page-header">{{ title }}</h1>
<form method="GET"  action="">
  <input type="text" name="query" placeholder="Search posts">
  <input type="submit" value="Search">
</form>


	 <section class="section">
	 	<div class="container">

			{% for obj in object_list %}

	 		<div class="columns is-multiline">
	 			<div class="column is-one-third">
	 				<div class="notification">
				
						<h1 class="is-size-5"><a href="{{ obj.get_absolute_url }}">{{ obj.title }}</a> <small>{% if obj.draft %} | Draft{% endif %} | {{ obj.publish }}</small></h1>
						<div class="content">
							<p class="">{{ obj.get_markdown}}</p>
							<p><a href="{{ obj.get_absolute_url }}" >View</a></p>
						</div>
					</div>
        </div>
      </div>  

			{% endfor %}

		</div>
   </section>


<div class="pagination">
    <span class="step-links">
        {% if object_list.has_previous %}
            <a href="?page=1">&laquo; first</a>
						<a href="?page={{ object_list.previous_page_number }} & {% if request.GET.query %} query={{ request.GET.query }} {% endif %}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ object_list.number }} of {{ object_list.paginator.num_pages }}.
        </span>

        {% if object_list.has_next %}
				<a href="?page={{ object_list.next_page_number }} & {% if request.GET.query %}query={{ request.GET.query }} {% endif %}">next</a>
            <a href="?page={{ object_list.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>
{% endblock content %}
