{% extends 'base.html' %}


{% block content %}

<h1 class="page-header">{{ title }}</h1>
<form method="GET"  action="">
  <input type="text" name="query" placeholder="Search posts">
  <input type="submit" value="Search">
</form>

   {% for obj in object_list %}

	<div class="row">
		<div class="col-sm-8 col-sm-offset-2">
			<div class="thumbnail">
				{% if obj.image %}
				<img class="img-responsive" src="{{ obj.image.url }}" alt="">
				{% endif %}
				<h3>{% if obj.draft %}Draft{% endif %}</h3>
				<h3><a href="{{ obj.get_absolute_url }}">{{ obj.title }}</a> </h3><small>{{ obj.publish }}</small>
				<div class="caption">
					<p>{{ obj.content | linebreaks | truncatewords:20 }}</p>
				</div>
				<p><a href="{{ obj.get_absolute_url }}" class="btn btn-primary">View</a></p>
			</div>
			<hr/>
		</div>
	</div>

		{% endfor %}


<div class="pagination">
    <span class="step-links">
        {% if object_list.has_previous %}
            <a href="?page=1">&laquo; first</a>
						<a href="?page={{ object_list.previous_page_number }} & {% if request.GET.query %} query={{ request.GET.query }} {% endif %}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ object_list.number }} of {{ object_list.paginator.num_pages }}.
        </span>

        {% if object_list.has_next %}
				<a href="?page={{ object_list.next_page_number }} & {% if request.GET.query %}query={{ request.GET.query }} {% endif %}">next</a>
            <a href="?page={{ object_list.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>
{% endblock content %}
